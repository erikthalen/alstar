#clock_widget {
  --brm: 1;

  container-type: inline-size;

  corner-shape: squircle;
  border-radius: calc(12px * var(--brm));
  background: #393939;

  @supports (corner-shape: squircle) {
    --brm: 2;
  }

  @container (width > 75px) {
    padding: min(3%, 8px);
  }

  main {
    display: grid;
    align-items: center;
    gap: min(8cqi, 16px);

    @container (width > 200px) {
      grid-template-columns: min(50%, 50px) 1fr;
    }
  }

  .clock {
    --_w: 100cqi;
    --_r: calc((var(--_w) - var(--_sz)) / 2);
    --_sz: 20cqi;

    container-type: inline-size;

    display: grid;
    place-content: center;

    block-size: 100%;
    inline-size: 100%;

    color: #222;
  }

  .clock-face {
    corner-shape: squircle;

    aspect-ratio: 1;
    background: var(--_bgc, #fff);
    border-radius: calc(12px * var(--brm));
    block-size: var(--_w);
    font-size: 20cqi;
    font-weight: 700;
    list-style-type: none;
    inline-size: var(--_w);
    padding: unset;
    position: relative;

    @container (width > 75px) {
      corner-shape: round;
      border-radius: 50%;
      font-size: 12cqi;
    }
  }

  .clock-face:after {
    --start: 47cqi;
    --height: 20cqi;

    content: '';
    position: absolute;
    inset: 0;
    z-index: 0;
    border-radius: inherit;

    background: repeating-conic-gradient(from 0deg, #a5a5a5 -1deg 1deg, transparent 1deg 5deg);
    mask-image: radial-gradient(
      transparent var(--start),
      black var(--start) calc(var(--start) + var(--height)),
      transparent calc(var(--start) + var(--height))
    );

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }

  .clock-face time {
    --_x: calc(var(--_r) + (var(--_r) * cos(var(--_d))));
    --_y: calc(var(--_r) + (var(--_r) * sin(var(--_d))));
    display: grid;
    height: var(--_sz);
    left: var(--_x);
    place-content: center;
    position: absolute;
    top: var(--_y);
    width: var(--_sz);
  }

  .clock-face time:nth-child(1) {
    --_d: 270deg;
  }
  .clock-face time:nth-child(2) {
    --_d: 300deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(3) {
    --_d: 330deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(4) {
    --_d: 0deg;
  }
  .clock-face time:nth-child(5) {
    --_d: 30deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(6) {
    --_d: 60deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(7) {
    --_d: 90deg;
  }
  .clock-face time:nth-child(8) {
    --_d: 120deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(9) {
    --_d: 150deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(10) {
    --_d: 180deg;
  }
  .clock-face time:nth-child(11) {
    --_d: 210deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }
  .clock-face time:nth-child(12) {
    --_d: 240deg;

    opacity: 0;

    @container (width > 75px) {
      opacity: 1;
    }
  }

  .arm {
    background-color: var(--_abg);
    border-radius: calc(var(--_aw) * 2);
    display: block;
    height: var(--_ah);
    position: absolute;
    left: calc((var(--_w) - var(--_aw)) / 2);
    top: calc((var(--_w) / 2) - var(--_ah));
    transform: rotate(0deg);
    transform-origin: bottom;
    width: var(--_aw);
  }
  .seconds {
    --_abg: rgb(255, 140, 5);
    --_ah: 48cqi;
    --_aw: 4cqi;

    z-index: 1;

    @container (width > 75px) {
      --_aw: 2cqi;
    }

    &:before {
      content: '';
      position: absolute;
      width: calc(var(--_aw) / 1.5);
      height: 15cqi;
      background-color: inherit;
      border-radius: inherit;

      top: 100%;
      left: 50%;
      translate: -50% 0;
    }

    &:after {
      content: '';
      position: absolute;
      width: calc(var(--_aw) * 2.5);
      aspect-ratio: 1;
      background-color: inherit;
      border-radius: 100%;

      top: 100%;
      left: 50%;
      translate: -50% -50%;
    }
  }

  .minutes {
    --_abg: #333;
    --_ah: 45cqi;
    --_aw: 4cqi;

    @container (width > 75px) {
      --_aw: 2cqi;
    }

    &:before {
      content: '';
      position: absolute;
      width: var(--_aw);
      height: 5cqi;
      background-color: inherit;
      border-radius: inherit;

      top: 100%;
      left: 50%;
      translate: -50% 0;
    }
  }

  .hours {
    --_abg: #333;
    --_ah: 6cqi;
    --_aw: 1.5cqi;

    @container (width > 75px) {
      --_aw: 1cqi;
    }

    position: relative;

    &:before {
      content: '';
      position: absolute;
      width: calc(var(--_aw) * 3);
      height: 25cqi;
      background-color: inherit;
      border-radius: inherit;

      bottom: 90%;
      left: 50%;
      translate: -50% 0;
    }
  }

  @supports not (left: calc(1px * cos(45deg))) {
    time {
      left: 50% !important;
      top: 50% !important;
      transform: translate(-50%, -50%) rotate(var(--_d)) translate(var(--_r))
        rotate(calc(-1 * var(--_d)));
    }
    p {
      display: block;
    }
  }

  .date {
    @container (width < 100px) {
      display: none;
    }

    p {
      margin: 0;
      font-size: min(16cqi, 26px);
    }
  }
}
