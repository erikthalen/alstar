/* esm.sh - @quietui/quiet-browser@1.6.1/dist/chunks/chunk.BBIKCCTX */
import{getLibraryPath as l}from"./chunk.YC32QOAM.mjs";var d=new MutationObserver(t=>{for(let{addedNodes:o}of t)for(let n of o)n.nodeType===Node.ELEMENT_NODE&&a(n)});function m(t){if(customElements.get(t))return Promise.resolve();let o=t.replace(/^quiet-/i,""),n=l(`components/${o}/${o}.js`);return new Promise((r,s)=>{import(n).then(()=>r()).catch(()=>{s(new Error(`Failed to load <${t}> from "${n}"`))})})}function p(){a(document.body),d.observe(document.documentElement,{subtree:!0,childList:!0})}function g(){d.disconnect()}async function a(t){let o=t instanceof Element?t.tagName.toLowerCase():"",n=o?.startsWith("quiet-"),r=[...document.querySelectorAll("[data-quiet-preload]")].map(e=>e.getAttribute("data-quiet-preload")||"").flatMap(e=>e.split(" ")).filter(e=>e.length>0),s=[...t.querySelectorAll(":not(:defined)")].map(e=>e.tagName.toLowerCase()).filter(e=>e.startsWith("quiet-"));n&&!customElements.get(o)&&s.push(o);let i=[...new Set(s.concat(r))],c=[],u=[];if(i.length!==0){for await(let e of i)try{await m(e),c.push(e)}catch{u.push(e)}await new Promise(requestAnimationFrame),t.dispatchEvent(new CustomEvent("quiet-discovery-complete",{bubbles:!1,cancelable:!1,composed:!0,detail:{registered:c,unknown:u}}))}}function w(t=2e3){document.addEventListener("turbo:before-render",async o=>{let n=o.detail.newBody;o.preventDefault();try{await Promise.race([a(n),new Promise(r=>setTimeout(r,t))])}finally{o.detail.resume()}})}export{a as discoverElements,w as preventTurboFouce,p as startLoader,g as stopLoader};
/*! Bundled license information:

@quietui/quiet-browser/dist/chunks/chunk.BBIKCCTX.js:
  (*! Required Notice: Copyright 2025 A Beautiful Site, LLC - https://quietui.org *)
*/
//# sourceMappingURL=chunk.BBIKCCTX.mjs.map